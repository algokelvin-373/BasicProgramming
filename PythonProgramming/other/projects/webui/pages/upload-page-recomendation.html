<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>AI Virtual Try On – Modex</title>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS utama -->
    <link rel="stylesheet" href="/assets/css/upload-page.css">
</head>

<body>

    <!-- =========== HEADER =========== -->
    <header class="site-header">
        <!-- logo desktop -->
        <img src="/assets/img/logo.svg" alt="Modex Logo" class="logo">

        <!-- saklar + hamburger -->
        <input type="checkbox" id="nav-toggle" class="nav-toggle" hidden>
        <label for="nav-toggle" class="hamburger">
            <span></span><span></span><span></span>
        </label>

        <!-- panel nav -->
        <nav class="nav-links">
            <!-- logo yang tampil di panel mobile -->
            <div class="mobile-logo ">
                <img src="/assets/img/logo.svg" alt="Modex logo" height="44">
            </div>

            <a href="../index.html">Home</a>
            <a href="#">Terms&nbsp;&amp;&nbsp;Conditions</a>
        </nav>

        <!-- CTA -->
        <button class="btn-primary">Virtual Try On</button>
    </header>


    <!-- =========== INTRO =========== -->
    <section class="section-intro">
        <h1>AI Virtual Try On&nbsp;&nbsp;– Pengubah Pakaian AI Online</h1>
        <p>Unggah foto &amp; coba berbagai outfit secara instan dengan teknologi AI.</p>
    </section>

    <!-- =========== FORM + REKOMENDASI =========== -->
    <div class="form-wrapper">

        <form class="steps">

            <div class="step-block">
                <div class="step-title">
                    <span class="num">1</span>
                    <h3>Model Image</h3>
                </div>
                <p class="small">Upload image half body atau full body dengan posisi menghadap ke depan untuk hasil
                    terbaik</p>

                <label class="file-box">
                    <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                    <button type="button" class="btn-upload">Unggah</button>
                    <input type="file" name="model_img" accept="image/*">
                </label>

                <p class="allowed">JPG, JPEG, PNG</p>
            </div>

            <div class="step-block">
                <div class="step-title">
                    <span class="num">2</span>
                    <h3>Upper Item</h3>
                </div>
                <p class="small">Upload image atasan tanpa latar belakang <strong>(768 × 1024 px)</strong></p>

                <div class="file-grid">
                    <label class="file-box">
                        <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                        <button type="button" class="btn-upload">Unggah</button>
                        <input type="file" name="top1" accept="image/*">
                    </label>

                    <label class="file-box">
                        <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                        <button type="button" class="btn-upload">Unggah</button>
                        <input type="file" name="top2" accept="image/*">
                    </label>

                    <label class="file-box">
                        <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                        <button type="button" class="btn-upload">Unggah</button>
                        <input type="file" name="top3" accept="image/*">
                    </label>
                </div>
                <p class="allowed">JPG, JPEG, PNG</p>
            </div>

            <div class="step-block">
                <div class="step-title">
                    <span class="num">3</span>
                    <h3>Lower Item</h3>
                </div>
                <p class="small">Upload image bawahan tanpa latar belakang <strong>(768 × 1024 px)</strong></p>

                <div class="file-grid">
                    <label class="file-box">
                        <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                        <button type="button" class="btn-upload">Unggah</button>
                        <input type="file" name="bottom1" accept="image/*">
                    </label>

                    <label class="file-box">
                        <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                        <button type="button" class="btn-upload">Unggah</button>
                        <input type="file" name="bottom2" accept="image/*">
                    </label>

                    <label class="file-box">
                        <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
                        <button type="button" class="btn-upload">Unggah</button>
                        <input type="file" name="bottom3" accept="image/*">
                    </label>
                </div>
                <p class="allowed">JPG, JPEG, PNG</p>
            </div>

            <div class="step-block">
                <div class="step-title">
                    <span class="num">4</span>
                    <h3>Occasion</h3>
                </div>

                <textarea class="textarea-occasion" name="occasion"
                    placeholder="Contoh : Hangout ke Mall Sore Hari"></textarea>

                <div class="action-btns">
                    <button type="reset" class="btn-outline">Ulangi</button>
                    <button type="submit" class="btn-disabled" disabled>Proses</button>
                </div>
            </div>

        </form>

        <div class="rekomendasi-box">
            <div>
                <img src="/assets/img/illustration-mixmatch.png" alt="Ilustrasi Mix &amp; Match">
                <p>Belum bisa tampil.<br>Yuk, upload item dan isi occasion dulu!</p>
            </div>
        </div>

    </div>

    <!-- =========== CONTOH HASIL ======= -->
    <section class="gallery-section">

        <h2>Contoh Hasil AI Virtual Try On</h2>
        <p>Lihat contoh simulasi Virtual Try On dengan teknologi AI.</p>

        <div class="style-group" style="position:relative; margin-bottom:96px;">
            <span class="bg-word">CLASSIC STYLE</span>

            <div class="card-stack">
                <div class="card">
                    <span class="badge">1</span>
                    <img src="/assets/img/examples/classic-1.png" alt="Classic Style 1" loading="lazy">
                </div>
                <div class="card">
                    <span class="badge">2</span>
                    <img src="/assets/img/examples/classic-2.png" alt="Classic Style 2" loading="lazy">
                </div>
                <div class="card">
                    <span class="badge">3</span>
                    <img src="/assets/img/examples/classic-3.png" alt="Classic Style 3" loading="lazy">
                </div>
            </div>

            <div class="style-desc">
                <h4>Classic Luxury Style</h4>
                <p>Gaya klasik dan elegan dengan potongan rapi, warna netral, dan tanpa logo mencolok.</p>
            </div>
        </div>

        <div class="style-group" style="position:relative;">
            <span class="bg-word" style="left:-12px;">KOREAN STYLE</span>

            <div class="card-stack">
                <div class="card">
                    <span class="badge">1</span>
                    <img src="/assets/img/examples/korean-1.png" alt="Korean Style 1" loading="lazy">
                </div>
                <div class="card">
                    <span class="badge">2</span>
                    <img src="/assets/img/examples/korean-2.png" alt="Korean Style 2" loading="lazy">
                </div>
                <div class="card">
                    <span class="badge">3</span>
                    <img src="/assets/img/examples/korean-3.png" alt="Korean Style 3" loading="lazy">
                </div>
            </div>

            <div class="style-desc">
                <h4>Korean Minimalist Style</h4>
                <p>Gaya simpel dan bersih dengan siluet longgar dan warna lembut khas Korea.</p>
            </div>
        </div>

    </section>

    <!-- =========== FOOTER =========== -->
    <footer class="site-footer">
        <div class="container footer-wrapper">

            <img src="/assets/img/logo.svg" alt="Modex logo" class="footer-logo">

            <hr>

            <div class="footer-meta">
                <small>© 2025 Modex. All Right Reserved.</small>
                <a href="terms.html" class="footer-link">Terms & Conditions</a>
            </div>

        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Get all necessary elements
            const form = document.querySelector('.steps');
            const fileInputs = document.querySelectorAll('input[type="file"]');
            const textarea = document.querySelector('.textarea-occasion');
            const submitBtn = document.querySelector('button[type="submit"]');
            const resetBtn = document.querySelector('button[type="reset"]');
            const rekomendasiBox = document.querySelector('.rekomendasi-box');

            // Function to show image preview
            function handleFileSelect(event) {
                const input = event.target;
                const file = input.files[0];

                if (!file) return;

                const reader = new FileReader();
                const fileBox = input.closest('.file-box');

                reader.onload = function (e) {
                    // Clear previous content
                    fileBox.innerHTML = '';

                    // Create image preview
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.borderRadius = '6px';

                    // Create close button
                    const closeBtn = document.createElement('button');
                    closeBtn.className = 'close-btn';
                    closeBtn.innerHTML = '×';
                    closeBtn.addEventListener('click', function (e) {
                        e.stopPropagation();
                        input.value = '';
                        resetFileBox(fileBox);
                        checkFormCompletion();
                    });

                    fileBox.appendChild(img);
                    fileBox.appendChild(closeBtn);

                    // Re-attach file input event
                    const newInput = document.createElement('input');
                    newInput.type = 'file';
                    newInput.name = input.name;
                    newInput.accept = 'image/*';
                    newInput.style.display = 'none';
                    newInput.addEventListener('change', handleFileSelect);
                    fileBox.appendChild(newInput);

                    checkFormCompletion();
                };

                reader.readAsDataURL(file);
            }

            // Reset file box to initial state
            function resetFileBox(fileBox) {
                fileBox.innerHTML = `
            <span>Pilih Gambar<br><small>atau jatuhkan di sini</small></span>
            <button type="button" class="btn-upload">Unggah</button>
            <input type="file" name="${fileBox.querySelector('input')?.name || ''}" accept="image/*">
        `;

                const newInput = fileBox.querySelector('input[type="file"]');
                newInput.addEventListener('change', handleFileSelect);
            }

            // Check if all forms are filled
            function checkFormCompletion() {
                let allFilled = true;

                fileInputs.forEach(input => {
                    if (!input.files || input.files.length === 0) {
                        allFilled = false;
                    }
                });

                if (!textarea.value.trim()) {
                    allFilled = false;
                }

                if (allFilled) {
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('btn-disabled');
                    submitBtn.classList.add('btn-primary');
                } else {
                    submitBtn.disabled = true;
                    submitBtn.classList.add('btn-disabled');
                    submitBtn.classList.remove('btn-primary');
                }
            }

            // Reset entire form
            function resetForm() {
                document.querySelectorAll('.file-box').forEach(fileBox => {
                    resetFileBox(fileBox);
                });

                textarea.value = '';

                submitBtn.disabled = true;
                submitBtn.classList.add('btn-disabled');
                submitBtn.classList.remove('btn-primary');

                rekomendasiBox.innerHTML = `
            <div>
                <img src="/assets/img/illustration-mixmatch.png" alt="Ilustrasi Mix &amp; Match">
                <p>Belum bisa tampil.<br>Yuk, upload item dan isi occasion dulu!</p>
            </div>
        `;
            }

            // Add event listeners
            fileInputs.forEach(input => {
                input.addEventListener('change', handleFileSelect);
            });

            textarea.addEventListener('input', checkFormCompletion);

            resetBtn.addEventListener('click', resetForm);

            // Form submission
            // Ganti bagian form submission dengan ini:
            form.addEventListener('submit', function (e) {
                e.preventDefault();

            });
        });
    </script>

</body>

</html>